<div class="min-h-screen bg-gray-100 pb-32">
  <div class="bg-primary-900">
    <app-header></app-header>
  </div>

  <div class="container md:mx-auto md:px-0 px-[20px]" *ngIf="!loading; else loadingTpl">
    <div class="my-4">
      <form nz-form [formGroup]="validateForm">
        <nz-form-item class="mb-0">
          <nz-form-control>
            <nz-input-group nzSearch nzSize="large" class="rounded focus:shadow-xl active:shadow-xl "
                            [nzPrefix]="prefixIcon">
              <input class="text-[#52606D] text-input" formControlName="searchKey"
                     placeholder="Search collection" nz-input/>
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
      </form>
    </div>
    <div>Showing {{numberOfApiCollection}} api collection</div>
    <div class="mt-4">
      <div class="grid grid-cols-2 gap-4">
        <nz-card class="flex rounded-3xl items-center justify-center border-dotted border-2 border-[#59C3FF] cursor-pointer">
          <div class="flex items-center">
            <div class="material-icons-outlined text-[#59C3FF]">
              add
            </div>
            <div class="text-[#59C3FF]">Add New Collection</div>
          </div>
        </nz-card>
        <div class="rounded-3xl pl-4 {{ randomColorsArray[i % 10]}}"
             *ngFor="let apiCollection of filteredApiCollectionList ; let i = index ">
          <nz-card class="rounded-r-[1.3rem] border-2">
            <div class="flex justify-between pb-[30px]">
              <div class="flex gap-x-4">
                <div class="font-bold text-subtitle">{{apiCollection.api_collection_name}}</div>
                <div>
                  <nz-tag nzColor="success">{{apiCollection.api_category_name}}</nz-tag>
                </div>
              </div>
              <div class="justify-end">
                <!--<button nz-tooltip
                        nzTooltipTitle="open" nzTooltipPlacement="left" [nzTooltipMouseEnterDelay]="0.75"
                        class="bg-blue-600 p-2 border-0 text-white rounded text-button material-icons-outlined cursor-pointer">
                  edit
                </button>-->
                <span nz-tooltip
                        nzTooltipTitle="Edit" nzTooltipPlacement="left" [nzTooltipMouseEnterDelay]="0.75"
                        class="text-blue-600  material-icons-outlined cursor-pointer">
                  edit
                </span>
              </div>
            </div>
            <nz-divider></nz-divider>
            <div class="flex justify-between">
              <div>
                <span>Created </span>
                <span class="font-bold">{{apiCollection.createdAt | date: 'MMM d, y h:mm a'}}</span>
              </div>
              <div class="justify-end">{{apiCollection.count}} Endpoints</div>
            </div>
          </nz-card>
        </div>
      </div>
    </div>
  </div>
</div>
<ng-template #prefixIcon>
  <span class=" text-[#52606D] material-icons-outlined text-input">search</span>
</ng-template>

<ng-template #loadingTpl>
  <nz-skeleton></nz-skeleton>
</ng-template>

